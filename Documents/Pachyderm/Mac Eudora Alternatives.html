<!--This file created by AppleWorks HTML Filter 6.0--><HTML><HEAD><META NAME=GENERATOR CONTENT="AppleWorks HTML Filter 6.0"><META HTTP-EQUIV="Content-Type" CONTENT="text/html;CHARSET=macintosh"><TITLE>Mac Eudora Alternatives</TITLE></HEAD><BODY  ><P ALIGN=CENTER><FONT SIZE=6>Alternatives for Macintosh Eudora<BR>To Rewrite, or not to Rewrite<BR><BR></FONT></P><P><FONT SIZE=4><B>Introduction<BR></B></FONT>The release of Eudora 7.0 for Windows poses the question of when Eudora 7.0 for Macintosh will be released.  It turns out that this is not an easy question to answer.  This paper explores some of the ideas that went into planning for the next major release of Eudora for the Macintosh, and examines alternative evolutions for the application.<BR><BR><FONT SIZE=4><B>Background<BR></B></FONT>Before we discuss the problems facing Macintosh Eudora, we should describe some of the design elements of the application, as we will refer to them frequently.<BR><BR><B>The Mailstore<BR></B>Eudora&#146;s mailstore was designed when there was very little memory or CPU power available.  It used these resources carefully, and was therefore able to perform very well in such limited environments.  The basic design is to minimize the amount of processing done on text before it is displayed to the user.  Therefore, message text is decoded and transliterated, and attachments and other non-text content are decoded and removed to separate files.  The message text itself is stored along with the text of other messages in a file called a mailbox.  The same basic mailstore is used in Windows Eudora, though enough details are different that they are not binary-compatible.<BR><BR><B>Carbon<BR></B>Eudora uses the Carbon framework for its filesystem access and user interface.  This is an older Apple technology, and has been supplanted by Cocoa<SUP><A HREF="#footnote1">1</A></SUP> .<BR><BR><B>The Editor<BR></B>Of central importance to an email program is the text engine used to display and compose email.  Eudora has a custom text editor, that works quite well, but has limited capabilities.  It certainly has not kept up with the times regarding HTML standards, especially in the area of table display.  Unfortunately, tables are used as a page layout system for nearly all but the simplest HTML nowadays, so this lack is rather keenly felt by users.<BR><BR><FONT SIZE=4><B>The Problems<BR></B></FONT>In the past, it&#146;s been our policy to maintain rough feature parity between the platforms.  This has meant releasing versions on both platforms with roughly the same features at roughly the same times.  However, this was not done for Eudora 7.0.  Below we will explore the problems facing Eudora on the Macintosh.  Along the way, we&#146;ll note which of them apply, and to what degree, to Eudora for Windows as well.<BR><BR><B>Spotlight<BR></B>Spotlight is Apple&#146;s indexing technology.  It is the rough equivalent of the X1 indexing that is being used in Windows Eudora 7.  (X1 does not have a Macintosh product.)  Unfortunately, Spotlight&#146;s indices have a minimum file-level granularity.  Because Eudora stores multiple messages in a single file, Spotlight cannot tell which message a word appears in, only that it appears in a particular mailbox.  This makes Spotlight useless for Eudora as it stands today.<BR><BR>Possible solutions for this issue are twofold:<BR><BR><UL><LI TYPE="disc">Redo Eudora&#146;s mailstore to put each message in a single file<BR><LI TYPE="disc">Wait for Spotlight 2.0 (release date unknown) which will be able to index the current mailstore<BR><BR></UL><B>S/MIME<BR></B>S/MIME presents an interesting challenge to Eudora.  Eudora has long had the capability to do encryption and decryption and handle digital signatures, via a plug-in architecture (EMSAPI).  This architecture was necessary due to US government policy regarding encryption technology<SUP><A HREF="#footnote2">2</A></SUP> .  It is probably no longer necessary, and a more integrated approach is a possibility.<BR><BR>The problem with the current EMSAPI implementation is that it makes dealing with encrypted mail very unpleasant.  It is certainly adequate for a functional system, but it is manual, clumsy, and suboptimal, involving attachments and extra user operations.  This is the path we took for Eudora 7.0 for Windows.  It meets basic requirements, but we don&#146;t expect a high level of user satisfaction if it is used extensively.<BR><BR>Possible solutions to this problem include:<BR><BR><UL><LI TYPE="disc">Redo Eudora&#146;s mailstore to make the encrypted/signed information an integral part of the mailstore, rather than an attachment<BR><LI TYPE="disc">Change the EMSAPI implementation to allow for more automatic operation with the current mailstore<BR><LI TYPE="disc">Tweak the current mailstore to allow non-textual content to be kept intact <BR><LI TYPE="disc">Live with the current suboptimal situation and implement a plug-in similar to that for Windows Eudora 7.0<BR></UL><BR><B>HTML Handling<BR></B>One of the biggest user complaints is the lack of sophisticated HTML handling in Eudora.  Because we use our own engine and because that engine is severely limited, especially in the area of tables, Eudora&#146;s HTML display can be primitive.  This is generally not a problem for most interpersonal email, but it is a problem for much institutional and commercial email, which typically assumes full-blown, up-to-date HTML capabilities.<BR><BR>One obvious solution to this problem would be to use Apple&#146;s HTML viewer/editor, WebKit.  However, the problem with WebKit is that it is fundamentally a Cocoa technology.  While Apple officially claims it can be used by a Carbon application, they privately admit that it works at best imperfectly in such an environment.  While we have been assured by some at Apple that this will be improved, it is difficult to see that as likely, as there is great pressure from Apple for developers to use Cocoa rather than Carbon.<BR><BR>Windows Eudora faces this problem also, but only for email composition; for viewing, it uses Microsoft&#146;s HTML engine.<BR><BR>So, what can we do?<BR><BR><UL><LI TYPE="disc">Redo Eudora in Cocoa rather than Carbon, so that WebKit can be used in its current form<BR><LI TYPE="disc">Upgrade Eudora&#146;s editor to handle tables, and solve the biggest user complaint--but leave a host of smaller ones.<BR><LI TYPE="disc">Wait for Apple to release fixes to its Carbon implementation of WebKit<BR><LI TYPE="disc">Investigate alternate HTML technology, such as Gecko.<BR></UL><FONT SIZE=4><B><BR></B></FONT><B>Unicode &amp; Non-Roman Languages<BR></B>Another common complaint from our international users, and anyone who deals globally, is our lack of support for non-Roman languages.  While Macintosh Eudora can display and edit anything it receives, much of its internal structure assumes one byte per character, which presents difficulties for such operations as spell-checking and URL recognition.  Also, the current mailstore makes no provision for Unicode storage of outgoing mail, so even though mail can be edited, it cannot be saved and sent properly.<BR><BR>Possible solutions to this problem include:<BR><UL><BR><LI TYPE="disc">Redo Eudora using as much of the Cocoa framework as possible, since that is all unicode-friendly.  Redo the mailstore to be able to store unicode for outoing mail.<BR><LI TYPE="disc">Tweak outgoing mail storage to support unicode.  Fix problems with the internals as they arise.<BR></UL><BR>Windows Eudora shares this problem to a great degree.<BR><FONT SIZE=4><B><BR></B></FONT><B>Intel Macintoshes<BR></B>Apple&#146;s transition to Intel hardware raises further difficulties for Eudora.  Eudora is currently built with Codewarrior from MetroWerks, a Motorola company.  CodeWarrior is not going to support the new machines.  While the current version of Eudora will run under the PowerPC emulator (called Rosetta) on the Intel Macintoshes, it will suffer a performance penalty.  Just as an added bonus, part of the Eudora development process involves an application which runs under the old Classic emulator, which is not supported at all on Intel Macintoshes.<BR><BR>The two potential solutions to this problem are:<BR><BR><UL><LI TYPE="disc">Rewrite Eudora with Cocoa using XCode, Apple&#146;s development environment<BR><LI TYPE="disc">Move the current codebase to XCode.  This will require quite a bit of rework, as there are many minor differences, not least of which is the plug-in architecture, which will have to change, and third-party libraries that are not available for XCode and will have to be replaced<BR><BR></UL><B>Carbon Limitations<BR></B>The Carbon framework Eudora uses is, as has been noted, an older Apple technology.  While Apple claimes it has parity with Cocoa, in truth there are many capabilities under Cocoa that are either not available at all to Carbon applications, available only after delays for Carbon applications, or only imperfectly available to Carbon applications.  We fear this situation will only worsen over time.<BR><BR>Possible solutions include:<BR><BR><UL><LI TYPE="disc">Rewrite Eudora with Cocoa<BR><LI TYPE="disc">Work around as many Carbon limitations as we can, eschew new technologies that are not supported under Carbon, and hope that Carbon support isn&#146;t dropped altogether.<BR><BR></UL><B>Resource Limitations<BR></B>The Macintosh market is of course limited compared to the Windows market.  However, the complexity of Macintosh software is not so much less than the complexity of Windows software, and it is increasingly difficult to maintain feature parity without spending a disproportionate amount of money doing Macintosh development.<BR><BR>Windows Eudora and Macintosh Eudora are now two entirely different codebases with nearly no commonality.  There is therefore little opportunity for work done on one platform to be used on the other; different data structures, languages, etc are used in each.  Parallel teams are required for development.<BR><BR>A further complication here is that the data formats from both products are not binary-compatible, so there is no direct way to move data from one platform to another.<BR><BR>Possible solutions to this problem are:<BR><BR><UL><LI TYPE="disc">Rewrite Eudora using cross-platform code as much as possible, so that work done for Windows can benefit Macintosh, and vice-versa<BR><LI TYPE="disc">Compromise on the featureset for Macintosh Eudora<BR><LI TYPE="disc">Continue to spend excessively on Macintosh development so as to maintain a two-platform offering, even if Macintosh revenue does not cover costs<BR></UL><FONT SIZE=4><B><BR>The Way Forward<BR></B></FONT>So, having laid out all of the above, how should we proceed?  It seems clear that a rewrite of Eudora for the Macintosh would solve all of the problems above.  However, it&#146;s a big task, one we have always been reluctant to take on, necessitating as it would a long hiatus between releases.  Our current feeling is that it would take approximately 2 man-years to have an acceptably functional rewritten Eudora of Macintosh.  Is there any other way forward?<BR><BR>Let&#146;s recap the issues here, and then see what life looks like if we take some of the non-rewrite paths.<BR><BR><UL><LI TYPE="disc">Spotlight<BR><LI TYPE="disc">S/MIME<BR><LI TYPE="disc">HTML Handling<BR><LI TYPE="disc">Unicode &amp; Non-Roman Languages<BR><LI TYPE="disc">Intel Macintoshes<BR><LI TYPE="disc">Carbon Limitations<BR><LI TYPE="disc">Resource Limitations<BR></UL><BR>Regarding Spotlight, I&#146;m confident that if we wait long enough, Apple will overcome the single-file limitation.  It is in fact possible that by the time we would be able to finish the rewrite, the limitation would have been lifted in any case.  The S/MIME issue can be worked around in the short term by living with the clumsy EMSAPI, and in the longer term by smaller changes to the application&#146;s calling of the EMSAPI or by internal S/MIME support, without radical changes to the mailstore.  Unicode support certainly could be added to the current code without a rewrite, though much of the effort would involve things we would get &#147;for free&#148; from a Cocoa rewrite.  There is simply no alternative to moving to XCode to address the Intel Macintoshes.  That&#146;s a substantial, but by no means impossible, task.<BR><BR>So much for the simple solutions.  That leaves us with three things to solve: the limitations of Carbon, the limited resources for development, and HTML.<BR><BR>The only real long-term solution to the HTML problem is a new text engine, whether it be WebKit or Gecko or who knows what.  Fitting any of it into the current Carbon application would not be an easy task.  Fixing the table support in Eudora&#146;s current editor would probably ease some people&#146;s concerns for a while, to buy time for such integration.  Or HTML support could be left incomplete, and the damage that would do to the market penetration of Eudora on the Macintosh accepted.<BR><BR>The issue of limited resources for Macintosh-only development will remain a significant one as long as the two codebases are separate.  If there is organizational will and sufficient Windows revenue, one might choose simply to live with it.<BR><BR>Finally, I think it clear that Carbon will not be immediately eliminated.  It was ported to the Intel Macintoshes, which is a good sign.  Most importantly, it is used by both Adobe and Microsoft, so there are developers important to Apple who also rely on it.  It will likely continue to work for at least two years, perhaps more.<BR><BR>How long would it take to bring Macintosh Eudora up to Windows Eudora 7 features?  The biggest uncertainty here is Spotlight.  Until the multiple-container Spotlight is released, it&#146;s not possible to do indexed search.  Laying that aside, I expect it would take 4-6 man-months of labor to bring Macintosh Eudora to feature parity with Windows Eudora.<BR><BR><FONT SIZE=4><B>In Conclusion<BR></B></FONT>It remains my recommendation that the Cocoa rewrite is the best plan for Macintosh Eudora.  It would set up a strong base for the future for both platforms, as the rewritten code will migrate to Windows as well.  It would provide for binary compatibility between the products.  However, if there is no stomach for the required investment, it would be possible to continue with Eudora on the Macintosh with a less radical philosophy.</P><P><FONT SIZE=2><SUP><A NAME="footnote1">1</A></SUP> Cocoa is really just tweaks on top of NeXTStep, which is older than Carbon, but I digress.</FONT></P><P><FONT SIZE=2><SUP><A NAME="footnote2">2</A></SUP> We really want to editorialize on this point, but we will refrain.</FONT></P><HR><P><P><FONT SIZE=2><I>Alternatives for Macintosh Eudora  #</P></I></FONT></P></BODY></HTML>